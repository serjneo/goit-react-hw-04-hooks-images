(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{31:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},57:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(5),o=n.n(r),s=n(6),i=n.n(s),u=n(15),l=n(12),b=n(4),j=n(7),m=(n(16),n(31),n(1));var d=function(e){var t=e.webformatURL,n=e.largeImageURL,a=e.tags,c=e.setModalImgInfo;return Object(m.jsx)("li",{className:"ImageGalleryItem",children:Object(m.jsx)("img",{src:t,alt:a,onClick:function(){return c({largeImageURL:n,tags:a})},className:"ImageGalleryItem-image"})})};n(33);var f=function(e){var t=e.images,n=e.setModalImgInfo;return Object(m.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.webformatURL,a=e.largeImageURL,c=e.tags,r=e.id;return Object(m.jsx)(d,{webformatURL:t,largeImageURL:a,tags:c,setModalImgInfo:n},r)}))})};n(34);var g=function(e){var t=e.onLoadMore;return Object(m.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})},h=(n(35),document.getElementById("modal-root"));var O=function(e){var t=e.onClose,n=e.children;return Object(a.useEffect)((function(){function e(e){"Escape"===e.code&&t()}return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[t]),Object(r.createPortal)(Object(m.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(m.jsx)("div",{className:"Modal",children:n})}),h)};n(36);var p=function(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(b.a)(n,2),r=c[0],o=c[1];return Object(m.jsx)("header",{className:"Searchbar",children:Object(m.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):j.c.error("Enter text")},children:[Object(m.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(m.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(m.jsx)("input",{onChange:function(e){o(e.target.value.toLowerCase())},className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},v=n(25),x=n.n(v),w=(n(57),function(){return Object(m.jsx)("div",{className:"Loader",children:Object(m.jsx)(x.a,{type:"Rings",color:"#00BFFF",height:150,width:150,timeout:2e3})})}),I=n(14),S=n.n(I);S.a.defaults.baseURL="https://pixabay.com/api";var y=function(){var e=Object(l.a)(i.a.mark((function e(t,n){var a,c,r,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"22969482-37b7f2c7deb329174334b9da4",12,a="/?image_type=photo&orientation=horizontal&q=".concat(t,"&page=").concat(n,"&per_page=").concat(12,"&key=").concat("22969482-37b7f2c7deb329174334b9da4"),e.next=5,S.a.get(a);case 5:return c=e.sent,r=c.data,o=r.hits,e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=y;n(76);function N(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(1),o=Object(b.a)(r,2),s=o[0],d=o[1],h=Object(a.useState)([]),v=Object(b.a)(h,2),x=v[0],I=v[1],S=Object(a.useState)(!1),y=Object(b.a)(S,2),N=y[0],k=y[1],E=Object(a.useState)(null),R=Object(b.a)(E,2),F=(R[0],R[1]),U=Object(a.useState)("idle"),C=Object(b.a)(U,2),M=C[0],B=C[1],G=Object(a.useState)(null),J=Object(b.a)(G,2),T=J[0],_=J[1],q=Object(a.useState)(null),z=Object(b.a)(q,2),A=z[0],D=z[1];Object(a.useEffect)((function(){n&&H()}),[n]);var H=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B("pending"),e.prev=1,e.next=4,L(n,s);case 4:(t=e.sent).length<1&&j.c.error("Nothing found, specify your search"),I((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))})),B("resolved"),d((function(e){return e+1})),1!==s&&K(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log("Error:",e.t0.message),F({error:e.t0});case 16:return e.prev=16,B("resolved"),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(){return e.apply(this,arguments)}}(),P=function(){k(!N)},K=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(p,{onSubmit:function(e){c(e),d(1),I([])}}),"pending"===M&&Object(m.jsx)(w,{}),Object(m.jsx)(f,{images:x,setModalImgInfo:function(e){var t=e.largeImageURL,n=e.tags;_(t),D(n),P()}}),x.length>0&&Object(m.jsx)(g,{onLoadMore:function(){H()}}),N&&Object(m.jsx)(O,{onClose:P,children:Object(m.jsx)("img",{src:T,alt:A})})]}),Object(m.jsx)(j.a,{transition:j.b})]})}n(77);o.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.f29e6aee.chunk.js.map